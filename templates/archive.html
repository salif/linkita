{% extends "index.html" %}<!---->
{% block main %}<!---->

<h1 class="mb-16">{{ page.title }}</h1>

{% set section = get_section(path=page.extra.section) %}<!---->

{% for year, posts in section.pages | group_by(attribute="year") %}
<h2>{{ year }} <sup class="opacity-60">{{ posts | length }}</sup></h2>

<div class="not-prose pl-6">
  <ul>
    {% for post in posts %}
    <li>
      <div class="my-2 flex items-center justify-between">
        <a class="secondary-link" href="{{ post.permalink }}">{{ post.title }}</a>
        {%- set date_format_archive = config.extra.locales[lang].date_format_archive | default(value="%m-%d") %}
        <time class="font-mono text-sm opacity-80" datetime="{{ post.date }}">{% if config.extra.locales[lang].locale
          %}{{ post.date | date(format=date_format_archive, locale=config.extra.locales[lang].locale) }}{% else
          %}{{ post.date | date(format=date_format_archive) }}{% endif %}</time>
      </div>
    </li>
    {% endfor %}
  </ul>
</div>

{% endfor %}<!---->
{% endblock main %}
