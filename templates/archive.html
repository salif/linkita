{% extends "index.html" %}<!---->
{% block main %}<!---->

<h1 class="mb-16">{{ page.title }}</h1>

{% set section = get_section(path=page.extra.section) %}<!---->

{% for year, posts in section.pages | group_by(attribute="year") %}
<h2>{{ year }} <sup class="opacity-60">{{ posts | length }}</sup></h2>

<div class="not-prose pl-6">
  <ul>
    {% for post in posts %}
    <li>
      <div class="my-2 flex items-center justify-between">
        <a class="secondary-link" href="{{ post.permalink }}">{{ post.title }}</a>
        {%- set date_format_archive = config.extra.date_format_archive[lang] | default(value="%m-%d") %}
        <time class="font-mono text-sm opacity-80">{% if trans(key="date_locale", lang=lang) == ""
          %}{{ post.date | date(format=date_format_archive) }}{% else
          %}{{ post.date | date(format=date_format_archive, locale=trans(key="date_locale", lang=lang)) }}{% endif %}</time>
      </div>
    </li>
    {% endfor %}
  </ul>
</div>

{% endfor %}<!---->
{% endblock main %}
